<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digital Dashboard</title>
</head>

<body>
    <style>
        @font-face {
            font-family: 'SF Pro Display Bold';
            font-weight: bolder;
            src: url('clock.otf');
        }

        @font-face {
            font-family: 'SF Pro Display';
            font-weight: normal;
            src: url('display.otf');
        }

        @font-face {
            font-family: 'SF Pro Text';
            font-weight: normal;
            src: url('default.otf');
        }

        @font-face {
            font-family: 'SF Pro Text Light';
            font-weight: lighter;
            src: url('light.otf');
        }

        @font-face {
            font-family: 'SF Pro Display Thin';
            font-weight: lighter;
            src: url('display-thin.otf');
        }

        html {
            background-image: url('background.png');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        ::-webkit-scrollbar {
            display: none;
        }

        body {
            padding: 24px;
            height: 100%;
            width: 80%;
            overflow: scroll;
        }

        .top-container {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 24px;
        }

        #date {
            font-size: 2em;
            color: white;
            opacity: 0.9;
            white-space: nowrap;
            margin-bottom: -8px;
            font-family: 'SF Pro Display';
        }

        #clock {
            font-size: 8em;
            color: white;
            opacity: 0.9;
            font-family: 'SF Pro Display Bold';
        }

        .grid {
            display: flex;
            gap: 24px;
            padding: 24px;
            max-width: 1200px;
            margin: 0 auto;
            flex-wrap: wrap;
        }

        .grid-item {
            background-color: rgb(13 13 13 / 56%);
            /* background-color: rgb(44 44 44 / 100%); */
            border-radius: 24px;
            padding: 24px;
            backdrop-filter: blur(16px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            color: white;
            min-width: 150px;
            min-height: 150px;
            font-family: 'SF Pro Display';
        }

        .grid-item-content {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        h1 {
            font-size: 2em;
            margin: 0;
        }

        p {
            margin: 0;
        }

        .update {
            width: 100%;
        }

        .notification {
            top: -10px;
            font-family: 'SF Pro Display';
            text-rendering: geometricPrecision;
            position: absolute;
            background-color: rgba(28, 28, 28, 0.82);
            color: white;
            backdrop-filter: blur(12px);
            border: 1px solid rgb(70, 70, 70, 0.61);
            padding: 8px;
            border-radius: 24px;
            right: -100%;
            margin-top: 24px;
            min-width: 400px;
            min-height: 70px;
            z-index: 100;
            font-size: 15px;
            max-width: 50%;
            padding: 16px;
            box-shadow: 0 0 100px 40px rgb(0 0 0 / 67%);

            transition: right 0.3s;

            .title {
                font-size: 18px;
                font-weight: bold;
            }
        }

        .close {
            position: absolute;
            left: -8px;
            top: -8px;
            background-color: #2d2d2d;
            border: none;
            color: white;
            font-size: 20px;
            cursor: pointer;
            font-family: 'SF Pro Text';
            font-size: 10px;
            padding: 0;
            border-radius: 10000px;
            backdrop-filter: blur(16px);
            border: 1px solid rgb(70, 70, 70, 0.61);
            width: 22px;
            height: 22px;
            box-shadow: 3px 3px 20px 1px rgb(0 0 0)
        }

        .show {
            right: 24px !important;
            transition: right 0.3s;
        }

        #temperature {
            font-size: 48px;
            font-weight: bold;
        }

        #weather-icon {
            margin-top: 10px;
            margin: 0.0px 0.0px 0.0px 0.0px;
            font: 20.0px 'SF Pro'
        }

        #weather-description {
            font-size: 16px;
            margin-top: 5px;
        }

        #high-low {
            font-size: 14px;
            margin-top: 10px;
        }
    </style>
    <script>
        function updateClock() {
            const now = new Date();
            var hours = now.getHours().toString().padStart(2, '0');
            if (hours == "00") {
                hours = "12";
            }
            // remove leading zero
            if (hours.startsWith('0')) {
                hours = hours.substring(1);
            }
            const minutes = now.getMinutes().toString().padStart(2, '0');
            const seconds = now.getSeconds().toString().padStart(2, '0');
            document.getElementById('clock').innerText = `${hours}:${minutes}`;
        }

        setInterval(updateClock, 1000);

        function updateDate() {
            const now = new Date();
            const options = { weekday: 'long', day: 'numeric', month: 'long' };
            const date = now.toLocaleDateString('en-GB', options);
            document.getElementById('date').innerText = date;
        }
        setInterval(updateDate, 1000 * 60 * 60);

        onload = () => {
            updateClock();
            updateDate();
        }

        var touchstartX = 0;
        var touchstartY = 0;
        var touchendX = 0;
        var touchendY = 0;

        document.addEventListener('DOMContentLoaded', () => {
            const notification = document.getElementById('notif-div');

            notification.addEventListener('touchstart', function (event) {
                touchstartX = event.changedTouches[0].screenX;
                touchstartY = event.changedTouches[0].screenY;
            }, false);

            notification.addEventListener('touchend', function (event) {
                touchendX = event.changedTouches[0].screenX;
                touchendY = event.changedTouches[0].screenY;
                handleGesture();
            }, false);
        });

        function handleGesture() {
            if (touchendX < touchstartX) {
                console.log('Swiped Left');
            }

            if (touchendX > touchstartX) {
                console.log('Swiped Right');
            }

            if (touchendY < touchstartY) {
                console.log('Swiped Up');
            }

            if (touchendY > touchstartY) {
                console.log('Swiped Down');
            }

            if (touchendY === touchstartY) {
                console.log('Tap');
            }
        }

        const apiKey = "bd5e378503939ddaee76f12ad7a97608"

        const lat = 28.4117888;
        const lon = 76.9111255;

        const SFicons = {
            "sun.min": "􀆫",
            "sun.min.fill": "􀆬",
            "sun.max": "􀆭",
            "sun.max.fill": "􀆮",
            "sun.max.circle": "􀷎",
            "sun.max.circle.fill": "􀷏",
            "sun.max.trianglebadge.exclamationmark": "􁜎",
            "sun.max.trianglebadge.exclamationmark.fill": "􁜏",
            "sunrise": "􀆱",
            "sunrise.fill": "􀆲",
            "sunrise.circle": "􁛁",
            "sunrise.circle.fill": "􁛂",
            "sunset": "􀆳",
            "sunset.fill": "􀆴",
            "sunset.circle": "􁛃",
            "sunset.circle.fill": "􁛄",
            "sun.horizon": "􀻞",
            "sun.horizon.fill": "􀻟",
            "sun.horizon.circle": "􁛅",
            "sun.horizon.circle.fill": "􁛆",
            "sun.dust": "􀆵",
            "sun.dust.fill": "􀆶",
            "sun.dust.circle": "􁛇",
            "sun.dust.circle.fill": "􁛈",
            "sun.haze": "􀆷",
            "sun.haze.fill": "􀆸",
            "sun.haze.circle": "􁛉",
            "sun.haze.circle.fill": "􁛊",
            "sun.rain": "􁷌",
            "sun.rain.fill": "􁷍",
            "sun.rain.circle": "􁷎",
            "sun.rain.circle.fill": "􁷏",
            "sun.snow": "􁷐",
            "sun.snow.fill": "􁷑",
            "sun.snow.circle": "􁷒",
            "sun.snow.circle.fill": "􁷓",
            "moon": "􀆹",
            "moon.fill": "􀆺",
            "moon.circle": "􀆻",
            "moon.circle.fill": "􀆼",
            "moon.dust": "􁶽",
            "moon.dust.fill": "􁶾",
            "moon.dust.circle": "􁶿",
            "moon.dust.circle.fill": "􁷀",
            "moon.haze": "􁑯",
            "moon.haze.fill": "􁑰",
            "moon.haze.circle": "􁜷",
            "moon.haze.circle.fill": "􁜸",
            "sparkles": "􀆿",
            "moon.stars": "􀇀",
            "moon.stars.fill": "􀇁",
            "moon.stars.circle": "􁛋",
            "moon.stars.circle.fill": "􁛌",
            "cloud": "􀇂",
            "cloud.fill": "􀇃",
            "cloud.circle": "􁛍",
            "cloud.circle.fill": "􁛎",
            "cloud.drizzle": "􀇄",
            "cloud.drizzle.fill": "􀇅",
            "cloud.drizzle.circle": "􁛏",
            "cloud.drizzle.circle.fill": "􁛐",
            "cloud.rain": "􀇆",
            "cloud.rain.fill": "􀇇",
            "cloud.rain.circle": "􁛑",
            "cloud.rain.circle.fill": "􁛒",
            "cloud.heavyrain": "􀇈",
            "cloud.heavyrain.fill": "􀇉",
            "cloud.heavyrain.circle": "􁛓",
            "cloud.heavyrain.circle.fill": "􁛔",
            "cloud.fog": "􀇊",
            "cloud.fog.fill": "􀇋",
            "cloud.fog.circle": "􁛕",
            "cloud.fog.circle.fill": "􁛖",
            "cloud.hail": "􀇌",
            "cloud.hail.fill": "􀇍",
            "cloud.hail.circle": "􁛗",
            "cloud.hail.circle.fill": "􁛘",
            "cloud.snow": "􀇎",
            "cloud.snow.fill": "􀇏",
            "cloud.snow.circle": "􁛙",
            "cloud.snow.circle.fill": "􁛚",
            "cloud.sleet": "􀇐",
            "cloud.sleet.fill": "􀇑",
            "cloud.sleet.circle": "􁛛",
            "cloud.sleet.circle.fill": "􁛜",
            "cloud.bolt": "􀇒",
            "cloud.bolt.fill": "􀇓",
            "cloud.bolt.circle": "􁛝",
            "cloud.bolt.circle.fill": "􁛞",
            "cloud.bolt.rain": "􀇞",
            "cloud.bolt.rain.fill": "􀇟",
            "cloud.bolt.rain.circle": "􁛟",
            "cloud.bolt.rain.circle.fill": "􁛠",
            "cloud.sun": "􀇔",
            "cloud.sun.fill": "􀇕",
            "cloud.sun.circle": "􁛡",
            "cloud.sun.circle.fill": "􁛢",
            "cloud.sun.rain": "􀇖",
            "cloud.sun.rain.fill": "􀇗",
            "cloud.sun.rain.circle": "􁛣",
            "cloud.sun.rain.circle.fill": "􁛤",
            "cloud.sun.bolt": "􀇘",
            "cloud.sun.bolt.fill": "􀇙",
            "cloud.sun.bolt.circle": "􁛥",
            "cloud.sun.bolt.circle.fill": "􁛦",
            "cloud.moon": "􀇚",
            "cloud.moon.fill": "􀇛",
            "cloud.moon.circle": "􁛧",
            "cloud.moon.circle.fill": "􁛨",
            "cloud.moon.rain": "􀇜",
            "cloud.moon.rain.fill": "􀇝",
            "cloud.moon.rain.circle": "􁛩",
            "cloud.moon.rain.circle.fill": "􁛪",
            "cloud.moon.bolt": "􀇠",
            "cloud.moon.bolt.fill": "􀇡",
            "cloud.moon.bolt.circle": "􁛫",
            "cloud.moon.bolt.circle.fill": "􁛬",
            "smoke": "􀇢",
            "smoke.fill": "􀇣",
            "smoke.circle": "􁛭",
            "smoke.circle.fill": "􁛮",
            "wind": "􀇤",
            "wind.circle": "􁛯",
            "wind.circle.fill": "􁛰",
            "wind.snow": "􀇦",
            "wind.snow.circle": "􁛱",
            "wind.snow.circle.fill": "􁛲",
            "snowflake": "􀇥",
            "snowflake.circle": "􁇌",
            "snowflake.circle.fill": "􁇍",
            "snowflake.slash": "􁠂",
            "tornado": "􀇧",
            "tornado.circle": "􁛳",
            "tornado.circle.fill": "􁛴",
            "tropicalstorm": "􀇨",
            "tropicalstorm.circle": "􁛵",
            "tropicalstorm.circle.fill": "􁛶",
            "hurricane": "􀇩",
            "hurricane.circle": "􁛷",
            "hurricane.circle.fill": "􁛸",
            "thermometer.sun": "􀇪",
            "thermometer.sun.fill": "􀦜",
            "thermometer.sun.circle": "􁛹",
            "thermometer.sun.circle.fill": "􁛺",
            "thermometer.snowflake": "􀇫",
            "thermometer.snowflake.circle": "􁛻",
            "thermometer.snowflake.circle.fill": "􁛼",
            "thermometer.variable": "􂬮",
            "thermometer.variable.and.figure": "􁷉",
            "thermometer.variable.and.figure.circle": "􁷊",
            "thermometer.variable.and.figure.circle.fill": "􁷋",
            "thermometer.low": "􁏃",
            "thermometer.medium": "􀇬",
            "thermometer.high": "􁏄",
            "thermometer.medium.slash": "􁗄",
            "degreesign.farenheit": "􂧣",
            "degreesign.celsius": "􂧤",
            "aqi.low": "􀴾",
            "aqi.medium": "􀴿",
            "aqi.high": "􀵀",
            "humidity": "􁃚",
            "humidity.fill": "􁃛",
            "rainbow": "􀼭",
            "cloud.rainbow.crop": "􁷞",
            "cloud.rainbow.crop.fill": "􁷠",
            "carbon.monoxide.cloud": "􁒶",
            "carbon.monoxide.cloud.fill": "􁒷",
            "carbon.dioxide.cloud": "􁒸",
            "carbon.dioxide.cloud.fill": "􁒹"
        }

        const weatherIconMapping = {
            // Clear sky
            "01d": SFicons["sun.max"], // Clear sky (day)
            "01n": SFicons["moon.fill"], // Clear sky (night)

            // Few clouds
            "02d": SFicons["cloud.sun"], // Few clouds (day)
            "02n": SFicons["cloud.moon"], // Few clouds (night)

            // Scattered clouds
            "03d": SFicons["cloud.fill"], // Scattered clouds (day/night)
            "03n": SFicons["cloud"], // Scattered clouds (day/night)

            // Broken clouds
            "04d": SFicons["cloud.sun.fill"], // Broken clouds (day/night)
            "04n": SFicons["cloud.moon.fill"], // Broken clouds (day/night)

            // Shower rain
            "09d": SFicons["cloud.drizzle.fill"], // Shower rain (day)
            "09n": SFicons["cloud.drizzle.fill"], // Shower rain (night)

            // Rain
            "10d": SFicons["cloud.rain"], // Rain (day)
            "10n": SFicons["cloud.rain.fill"], // Rain (night)

            // Thunderstorm
            "11d": SFicons["cloud.storm"], // Thunderstorm (day)
            "11n": SFicons["cloud.bolt.fill"], // Thunderstorm (night)

            // Snow
            "13d": SFicons["snowflake"], // Snow (day)
            "13n": SFicons["snowflake.circle.fill"], // Snow (night)

            // Extreme rain
            "50d": SFicons["mist"], // Mist (day)
            "50n": SFicons["mist.fill"], // Mist (night)

            // Drizzle
            "02d": SFicons["cloud.drizzle"], // Light drizzle (day)
            "02n": SFicons["cloud.drizzle.fill"], // Light drizzle (night)
            "30d": SFicons["cloud.drizzle"], // Drizzle (day)
            "30n": SFicons["cloud.drizzle.fill"], // Drizzle (night)
            "31d": SFicons["cloud.drizzle"], // Light intensity drizzle (day)
            "31n": SFicons["cloud.drizzle.fill"], // Light intensity drizzle (night)
            "32d": SFicons["cloud.drizzle"], // Drizzle rain (day)
            "32n": SFicons["cloud.drizzle.fill"], // Drizzle rain (night)

            // Fog
            "50d": SFicons["cloud.fog"], // Fog (day)
            "50n": SFicons["cloud.fog.fill"], // Fog (night)

            // Haze
            "50d": SFicons["cloud.haze"], // Haze (day)
            "50n": SFicons["cloud.haze.fill"], // Haze (night)

            // Dust
            "50d": SFicons["cloud.dust"], // Dust (day)
            "50n": SFicons["cloud.dust.fill"], // Dust (night)

            // Sand
            "50d": SFicons["cloud.dust"], // Sand (day)
            "50n": SFicons["cloud.dust.fill"], // Sand (night)

            // Ash
            "50d": SFicons["cloud.smoke"], // Ash (day)
            "50n": SFicons["cloud.smoke.fill"], // Ash (night)

            // Squall
            "50d": SFicons["wind"], // Squall (day)
            "50n": SFicons["wind.fill"], // Squall (night)

            // Tornado
            "50d": SFicons["tornado"], // Tornado (day)
            "50n": SFicons["tornado.fill"], // Tornado (night)
        };

        async function fetchWeatherData() {
            try {
                const response = await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${apiKey}&units=metric`);
                const data = await response.json();

                document.getElementById("temperature").textContent = `${Math.round(data.main.temp)}°C`;
                document.getElementById("weather-description").textContent = data.weather[0].main;
                document.getElementById("high-low").textContent = `H: ${Math.round(data.main.temp_max)}°C L: ${Math.round(data.main.temp_min)}°C`;

                // Update the weather icon based on the weather condition code and sunrise/sunset times
                const iconCode = data.weather[0].icon;
                const sunrise = new Date(data.sys.sunrise * 1000);
                const sunset = new Date(data.sys.sunset * 1000);
                const currentTime = new Date();

                let weatherIcon;
                if (weatherIconMapping.hasOwnProperty(iconCode)) {
                    weatherIcon = weatherIconMapping[iconCode];
                } else {
                    console.warn(`No SFicon mapping found for icon code: ${iconCode}`);
                    weatherIcon = SFicons["cloud"];
                }

                document.getElementById("weather-icon").textContent = weatherIcon;
            } catch (error) {
                console.error("Error fetching weather data:", error);
            }
        }

        document.addEventListener("DOMContentLoaded", () => {
            fetchWeatherData();
        });

    </script>
    <button onclick="document.getElementById('notif-div').classList.add('show')">SHOW</button>
    <div class="notification" id="notif-div">
        <button class="close" onclick="document.getElementById('notif-div').classList.remove('show')">􀆄</button>
        <p class="title">Notification</p>
        <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Vitae, aspernatur reiciendis eligendi hic iusto,
            optio perspiciatis itaque aperiam, cupiditate voluptates ab harum beatae unde? A exercitationem at eligendi
            natus unde.
        </p>
    </div>
    <div class="top-container">
        <div id="date"></div>
        <div id="clock"></div>
    </div>
    <div class="grid">
        <div class="grid-item update">
            <div class="grid-item-content">
                <h1>Latest Update</h1>
                <p>Update 1</p>
            </div>
        </div>
        <div class="grid-item" id="weather">
            <div class="grid-item-content">
                <div id="temperature"></div>
                <div id="weather-icon"></div>
                <div id="weather-description"></div>
                <div id="high-low"></div>
            </div>
        </div>
    </div>
</body>

</html>